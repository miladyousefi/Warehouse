import{d as b,u as k,Q as $,c as f,a as s,e,h as U,w as t,b as d,R as B,g as n,t as m,o as _,F as V,p as E,l as F}from"./app-CtfNrmtn.js";import{V as v,_ as N,Z as q}from"./AppLayout.vue_vue_type_script_setup_true_lang-EItJCeZc.js";import{_ as x}from"./AppLogoIcon.vue_vue_type_script_setup_true_lang-BMNh7sd3.js";import{_ as c}from"./Input.vue_vue_type_script_setup_true_lang-BlOgnfBg.js";import{_ as p}from"./Label.vue_vue_type_script_setup_true_lang-C_kG8D9G.js";import{_ as A}from"./Checkbox.vue_vue_type_script_setup_true_lang-DSJGOwi8.js";import{_ as C,a as R}from"./CardContent.vue_vue_type_script_setup_true_lang-DbCgYpT5.js";import"./index-BPCe6HC_.js";import"./VisuallyHidden-BfTYpA9C.js";import"./useForwardExpose-CPKYoMYP.js";import"./useForwardPropsEmits-DU_LCEXL.js";import"./index-BDqSilVs.js";import"./createLucideIcon-DqD5oH_h.js";import"./truck-BbJIQY32.js";import"./check-AztJcWsG.js";const S={class:"flex flex-1 flex-col gap-4 p-4 md:p-6"},D={class:"space-y-2"},I={class:"space-y-2"},L={class:"space-y-2"},M={class:"space-y-2"},O={class:"md:col-span-2 space-y-2"},P={class:"flex flex-wrap gap-4 mt-2"},Q={class:"flex gap-2 md:col-span-2"},le=b({__name:"Edit",props:{user:{},roles:{}},setup(w){const u=w,{t:i}=k(),g=[{title:i("nav.admins"),href:v.url()},{title:i("users.editAdmin")}],o=$({name:u.user.name,email:u.user.email,password:"",password_confirmation:"",role_ids:u.user.roles.map(l=>l.id)});function h(l){o.role_ids.indexOf(l)>=0?o.role_ids=o.role_ids.filter(a=>a!==l):o.role_ids=[...o.role_ids,l]}function y(){o.transform(l=>({...l,password:l.password||void 0,password_confirmation:l.password?l.password_confirmation:void 0})).put(q.url({user:u.user.id}))}return(l,r)=>(_(),f(V,null,[s(e(U),{title:e(i)("users.editAdmin")},null,8,["title"]),s(N,{breadcrumbs:g},{default:t(()=>[d("div",S,[s(e(C),null,{default:t(()=>[s(e(R),{class:"pt-6"},{default:t(()=>[d("form",{onSubmit:B(y,["prevent"]),class:"grid gap-4 md:grid-cols-2"},[d("div",D,[s(e(p),{for:"name"},{default:t(()=>[n(m(e(i)("common.name")),1)]),_:1}),s(e(c),{id:"name",modelValue:e(o).name,"onUpdate:modelValue":r[0]||(r[0]=a=>e(o).name=a),required:""},null,8,["modelValue"])]),d("div",I,[s(e(p),{for:"email"},{default:t(()=>[...r[4]||(r[4]=[n("Email",-1)])]),_:1}),s(e(c),{id:"email",modelValue:e(o).email,"onUpdate:modelValue":r[1]||(r[1]=a=>e(o).email=a),type:"email",required:""},null,8,["modelValue"])]),d("div",L,[s(e(p),{for:"password"},{default:t(()=>[n(m(e(i)("auth.password")),1)]),_:1}),s(e(c),{id:"password",modelValue:e(o).password,"onUpdate:modelValue":r[2]||(r[2]=a=>e(o).password=a),type:"password",placeholder:e(i)("users.leaveBlank")},null,8,["modelValue","placeholder"])]),d("div",M,[s(e(p),{for:"password_confirmation"},{default:t(()=>[n(m(e(i)("users.confirmPassword")),1)]),_:1}),s(e(c),{id:"password_confirmation",modelValue:e(o).password_confirmation,"onUpdate:modelValue":r[3]||(r[3]=a=>e(o).password_confirmation=a),type:"password"},null,8,["modelValue"])]),d("div",O,[s(e(p),null,{default:t(()=>[n(m(e(i)("users.roles")),1)]),_:1}),d("div",P,[(_(!0),f(V,null,E(w.roles,a=>(_(),f("label",{key:a.id,class:"flex items-center gap-2 cursor-pointer"},[s(e(A),{checked:e(o).role_ids.includes(a.id),"onUpdate:checked":()=>h(a.id)},null,8,["checked","onUpdate:checked"]),d("span",null,m(a.name),1)]))),128))])]),d("div",Q,[s(e(x),{type:"submit",disabled:e(o).processing},{default:t(()=>[n(m(e(i)("common.save")),1)]),_:1},8,["disabled"]),s(e(F),{href:e(v).url()},{default:t(()=>[s(e(x),{type:"button",variant:"outline"},{default:t(()=>[n(m(e(i)("common.cancel")),1)]),_:1})]),_:1},8,["href"])])],32)]),_:1})]),_:1})])]),_:1})],64))}});export{le as default};
