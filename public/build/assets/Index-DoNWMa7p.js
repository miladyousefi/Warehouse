import{d as P,u as y,Q as z,c as g,a as s,e,h as B,w as t,b as r,g as n,t as a,o as u,F as w,p as L,f as i,l as $,i as f,q as N,r as S}from"./app-CtfNrmtn.js";import{h as T,L as V,_ as j,t as F}from"./AppLayout.vue_vue_type_script_setup_true_lang-EItJCeZc.js";import{_ as E}from"./AppPageContent.vue_vue_type_script_setup_true_lang-BdmZ_T2S.js";import{_ as H}from"./Pagination.vue_vue_type_script_setup_true_lang-Bf67IjfJ.js";import{_}from"./AppLogoIcon.vue_vue_type_script_setup_true_lang-BMNh7sd3.js";import{_ as Q}from"./index-DULp_EJb.js";import{_ as W,a as A,b as M,c,d as G,e as d}from"./TableRow.vue_vue_type_script_setup_true_lang-BNGutH5E.js";import{f as J}from"./useTurkeyDate-B3jfD6y2.js";import{c as K}from"./createLucideIcon-DqD5oH_h.js";import{T as O}from"./trash-2-D2kyTVcP.js";import{P as R}from"./plus-DAMdHzMh.js";import"./index-BPCe6HC_.js";import"./VisuallyHidden-BfTYpA9C.js";import"./useForwardExpose-CPKYoMYP.js";import"./useForwardPropsEmits-DU_LCEXL.js";import"./index-BDqSilVs.js";import"./truck-BbJIQY32.js";const U=K("SquarePenIcon",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]),X={class:"flex flex-row items-center justify-between gap-4 p-4 md:p-6 pb-0"},Y={class:"text-xl font-semibold"},Z={class:"text-sm text-muted-foreground"},ee={class:"p-4 md:p-6 pt-4 overflow-y-auto"},te={key:0,class:"fixed inset-0 z-50 flex items-center justify-center bg-black/50"},se={class:"bg-background rounded-lg shadow-lg p-6 max-w-sm mx-auto"},ae={class:"text-lg font-semibold mb-2"},oe={class:"text-sm text-muted-foreground mb-6"},ne={class:"flex gap-3 justify-end"},$e=P({__name:"Index",props:{movements:{},warehouses:{}},setup(h){const{t:o}=y(),{can:k}=F(),x=N(()=>y().locale.value==="tr"?"name_tr":"name_en"),C=[{title:o("nav.stockMovements"),href:T.url()}],m=S(null),b=z({}),D=v=>{m.value=v},q=()=>{m.value=null},I=async v=>{b.delete(`/warehouse/stock-movements/${v}`,{onSuccess:()=>{m.value=null},onError:p=>{console.error("Delete error:",p)}})};return(v,p)=>(u(),g(w,null,[s(e(B),{title:e(o)("stockMovements.title")},null,8,["title"]),s(j,{breadcrumbs:C},{default:t(()=>[s(E,null,{header:t(()=>[r("div",X,[r("div",null,[r("h1",Y,a(e(o)("nav.movements")),1),r("p",Z,a(e(o)("stockMovements.title")),1)]),e(k)("stock.in")?(u(),i(e($),{key:0,href:e(V).url()},{default:t(()=>[s(e(_),null,{default:t(()=>[s(e(R),{class:"mr-2 h-4 w-4"}),n(a(e(o)("nav.input")),1)]),_:1})]),_:1},8,["href"])):f("",!0)])]),default:t(()=>[r("div",ee,[s(e(W),{class:"bg-transparent"},{default:t(()=>[s(e(A),null,{default:t(()=>[s(e(M),{class:"border-b border-border"},{default:t(()=>[s(e(c),{class:"text-muted-foreground"},{default:t(()=>[n(a(e(o)("common.date")),1)]),_:1}),s(e(c),{class:"text-muted-foreground"},{default:t(()=>[n(a(e(o)("stock.product")),1)]),_:1}),s(e(c),{class:"text-muted-foreground"},{default:t(()=>[n(a(e(o)("stockMovements.type")),1)]),_:1}),s(e(c),{class:"text-muted-foreground"},{default:t(()=>[n(a(e(o)("common.quantity")),1)]),_:1}),s(e(c),{class:"text-muted-foreground"},{default:t(()=>[n(a(e(o)("stock.warehouse")),1)]),_:1}),s(e(c),{class:"text-muted-foreground"},{default:t(()=>[n(a(e(o)("activityLogs.user")),1)]),_:1}),s(e(c),{class:"text-muted-foreground"},{default:t(()=>[n(a(e(o)("common.actions")),1)]),_:1})]),_:1})]),_:1}),s(e(G),null,{default:t(()=>[(u(!0),g(w,null,L(h.movements.data,l=>(u(),i(e(M),{key:l.id,class:"border-b border-border hover:bg-muted/30"},{default:t(()=>[s(e(d),{class:"whitespace-nowrap"},{default:t(()=>[n(a(e(J)(l.movement_date)),1)]),_:2},1024),s(e(d),null,{default:t(()=>[n(a(l.product?.[x.value]??"-"),1)]),_:2},1024),s(e(d),null,{default:t(()=>[s(e(Q),{variant:l.type==="in"?"success":l.type==="out"?"destructive":"secondary"},{default:t(()=>[n(a(l.type==="in"?e(o)("nav.input"):l.type==="out"?e(o)("nav.output"):l.type),1)]),_:2},1032,["variant"])]),_:2},1024),s(e(d),null,{default:t(()=>[n(a(l.quantity),1)]),_:2},1024),s(e(d),null,{default:t(()=>[n(a(l.warehouse?.[x.value]??"-"),1)]),_:2},1024),s(e(d),null,{default:t(()=>[n(a(l.user?.name??"-"),1)]),_:2},1024),s(e(d),{class:"flex gap-2"},{default:t(()=>[e(k)("stock.movements.edit")?(u(),i(e($),{key:0,href:`/warehouse/stock-movements/${l.id}/edit`},{default:t(()=>[s(e(_),{variant:"ghost",size:"sm",class:"h-8 w-8 p-0"},{default:t(()=>[s(e(U),{class:"h-4 w-4"})]),_:1})]),_:1},8,["href"])):f("",!0),e(k)("stock.movements.delete")?(u(),i(e(_),{key:1,variant:"ghost",size:"sm",class:"h-8 w-8 p-0 text-destructive hover:text-destructive",onClick:le=>D(l.id)},{default:t(()=>[s(e(O),{class:"h-4 w-4"})]),_:1},8,["onClick"])):f("",!0)]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1}),m.value!==null?(u(),g("div",te,[r("div",se,[r("h2",ae,a(e(o)("common.confirmDelete")),1),r("p",oe,a(e(o)("common.deleteWarning")),1),r("div",ne,[s(e(_),{variant:"outline",onClick:q},{default:t(()=>[n(a(e(o)("common.cancel")),1)]),_:1}),s(e(_),{variant:"destructive",onClick:p[0]||(p[0]=l=>I(m.value)),disabled:e(b).processing},{default:t(()=>[n(a(e(o)("common.delete")),1)]),_:1},8,["disabled"])])])])):f("",!0),h.movements.links?.length?(u(),i(H,{key:1,links:h.movements.links,class:"mt-4"},null,8,["links"])):f("",!0)])]),_:1})]),_:1})],64))}});export{$e as default};
