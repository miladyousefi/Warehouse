import{d as N,u as x,Q as $,c as n,a as o,e,h as U,w as u,b as s,R as C,g as m,t as i,z as h,o as _,F as f,p as y,U as b,i as F,l as B,q as D}from"./app-qL6WdXVG.js";import{h as g,_ as S,F as L}from"./AppLayout.vue_vue_type_script_setup_true_lang-BzqR0QCX.js";import{n as T}from"./useTurkeyDate-BL-PmOKc.js";import{_ as q}from"./AppLogoIcon.vue_vue_type_script_setup_true_lang-DNscDk-E.js";import{_ as w}from"./Input.vue_vue_type_script_setup_true_lang-DAek0loh.js";import{_ as p}from"./Label.vue_vue_type_script_setup_true_lang-ROUSsSXm.js";import{_ as z}from"./AppPageContent.vue_vue_type_script_setup_true_lang-DiZlaI2j.js";import{_ as E,a as I}from"./CardContent.vue_vue_type_script_setup_true_lang-w2cpH34G.js";import"./index-BWUUKawA.js";import"./VisuallyHidden-D9Md4VGR.js";import"./useForwardExpose-CjNlzYEm.js";import"./useForwardPropsEmits-DIhLTJ3X.js";import"./index-BDqSilVs.js";import"./createLucideIcon-BkXxusE4.js";import"./truck-DxMNw7yv.js";const Q={class:"p-4 md:p-6 pb-0"},R={class:"text-xl font-semibold"},W={class:"text-sm text-muted-foreground"},j={class:"p-4 md:p-6 pt-4"},A={class:"space-y-2"},G={class:"space-y-2"},H=["value"],J={class:"space-y-2"},K=["value"],O={class:"space-y-2"},P={class:"space-y-2"},X={key:0,class:"space-y-2 md:col-span-2"},Y=["value"],Z={class:"flex gap-2 md:col-span-2"},fe=N({__name:"Create",props:{type:{},warehouses:{},products:{}},setup(c){const k=c,{t:a}=x(),M=[{title:a("nav.stockMovements"),href:g.url()},{title:a("stockMovements.addMovement")}],v=D(()=>x().locale.value==="tr"?"name_tr":"name_en"),d=$({warehouse_id:k.warehouses[0]?.id??"",product_id:"",type:k.type||"in",quantity:"",unit_cost:"",from_warehouse_id:"",notes:""});function V(){d.transform(l=>({...l,warehouse_id:Number(l.warehouse_id),product_id:Number(l.product_id),quantity:Number(l.quantity),unit_cost:l.unit_cost?Number(l.unit_cost):null,from_warehouse_id:l.from_warehouse_id?Number(l.from_warehouse_id):null})).post(L.url())}return(l,r)=>(_(),n(f,null,[o(e(U),{title:e(a)("stockMovements.addMovement")},null,8,["title"]),o(S,{breadcrumbs:M},{default:u(()=>[o(z,null,{header:u(()=>[s("div",Q,[s("h1",R,i(e(d).type==="in"?e(a)("nav.input"):e(d).type==="out"?e(a)("nav.output"):e(a)("stockMovements.addMovement")),1),s("p",W,i(e(a)("stockMovements.title")),1)])]),default:u(()=>[s("div",j,[o(e(E),null,{default:u(()=>[o(e(I),{class:"pt-6"},{default:u(()=>[s("form",{onSubmit:C(V,["prevent"]),class:"grid gap-4 md:grid-cols-2"},[s("div",A,[o(e(p),null,{default:u(()=>[m(i(e(a)("stockMovements.type")),1)]),_:1}),o(e(w),{"model-value":e(d).type,disabled:""},null,8,["model-value"])]),s("div",G,[o(e(p),{for:"warehouse_id"},{default:u(()=>[m(i(e(a)("stock.warehouse")),1)]),_:1}),h(s("select",{id:"warehouse_id","onUpdate:modelValue":r[0]||(r[0]=t=>e(d).warehouse_id=t),required:"",class:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm"},[r[4]||(r[4]=s("option",{value:""},"-",-1)),(_(!0),n(f,null,y(c.warehouses,t=>(_(),n("option",{key:t.id,value:t.id},i(t[v.value]),9,H))),128))],512),[[b,e(d).warehouse_id]])]),s("div",J,[o(e(p),{for:"product_id"},{default:u(()=>[m(i(e(a)("stock.product")),1)]),_:1}),h(s("select",{id:"product_id","onUpdate:modelValue":r[1]||(r[1]=t=>e(d).product_id=t),required:"",class:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm"},[r[5]||(r[5]=s("option",{value:""},"-",-1)),(_(!0),n(f,null,y(c.products,t=>(_(),n("option",{key:t.id,value:t.id},i(t[v.value]),9,K))),128))],512),[[b,e(d).product_id]])]),s("div",O,[o(e(p),{for:"quantity"},{default:u(()=>[m(i(e(a)("common.quantity")),1)]),_:1}),o(e(w),{id:"quantity",modelValue:e(d).quantity,"onUpdate:modelValue":r[2]||(r[2]=t=>e(d).quantity=t),type:"number",step:"any",required:""},null,8,["modelValue"])]),s("div",P,[o(e(p),{for:"movement_date"},{default:u(()=>[m(i(e(a)("common.date")),1)]),_:1}),o(e(w),{id:"movement_date",value:e(T)(),type:"datetime-local",disabled:"",class:"bg-muted"},null,8,["value"])]),e(d).type==="transfer"?(_(),n("div",X,[o(e(p),{for:"from_warehouse_id"},{default:u(()=>[m(i(e(a)("stockMovements.fromWarehouse")),1)]),_:1}),h(s("select",{id:"from_warehouse_id","onUpdate:modelValue":r[3]||(r[3]=t=>e(d).from_warehouse_id=t),class:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm"},[r[6]||(r[6]=s("option",{value:""},"-",-1)),(_(!0),n(f,null,y(c.warehouses,t=>(_(),n("option",{key:t.id,value:t.id},i(t[v.value]),9,Y))),128))],512),[[b,e(d).from_warehouse_id]])])):F("",!0),s("div",Z,[o(e(q),{type:"submit",disabled:e(d).processing},{default:u(()=>[m(i(e(a)("common.save")),1)]),_:1},8,["disabled"]),o(e(B),{href:e(g).url()},{default:u(()=>[o(e(q),{type:"button",variant:"outline"},{default:u(()=>[m(i(e(a)("common.cancel")),1)]),_:1})]),_:1},8,["href"])])],32)]),_:1})]),_:1})])]),_:1})]),_:1})],64))}});export{fe as default};
