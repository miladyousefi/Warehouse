import{d as b,u as k,Q as $,c as f,a as s,e,h as U,w as t,b as d,R as B,g as n,t as m,o as _,F as v,p as E,l as F}from"./app-qL6WdXVG.js";import{R as x,_ as N,T as R}from"./AppLayout.vue_vue_type_script_setup_true_lang-BzqR0QCX.js";import{_ as V}from"./AppLogoIcon.vue_vue_type_script_setup_true_lang-DNscDk-E.js";import{_ as c}from"./Input.vue_vue_type_script_setup_true_lang-DAek0loh.js";import{_ as p}from"./Label.vue_vue_type_script_setup_true_lang-ROUSsSXm.js";import{_ as q}from"./Checkbox.vue_vue_type_script_setup_true_lang-H4XsSiTN.js";import{_ as A,a as C}from"./CardContent.vue_vue_type_script_setup_true_lang-w2cpH34G.js";import"./index-BWUUKawA.js";import"./VisuallyHidden-D9Md4VGR.js";import"./useForwardExpose-CjNlzYEm.js";import"./useForwardPropsEmits-DIhLTJ3X.js";import"./index-BDqSilVs.js";import"./createLucideIcon-BkXxusE4.js";import"./truck-DxMNw7yv.js";import"./check-Cl2GVsWH.js";const S={class:"flex flex-1 flex-col gap-4 p-4 md:p-6"},T={class:"space-y-2"},D={class:"space-y-2"},I={class:"space-y-2"},L={class:"space-y-2"},M={class:"md:col-span-2 space-y-2"},O={class:"flex flex-wrap gap-4 mt-2"},P={class:"flex gap-2 md:col-span-2"},le=b({__name:"Edit",props:{user:{},roles:{}},setup(w){const u=w,{t:i}=k(),g=[{title:i("nav.admins"),href:x.url()},{title:i("users.editAdmin")}],o=$({name:u.user.name,email:u.user.email,password:"",password_confirmation:"",role_ids:u.user.roles.map(l=>l.id)});function h(l){o.role_ids.indexOf(l)>=0?o.role_ids=o.role_ids.filter(a=>a!==l):o.role_ids=[...o.role_ids,l]}function y(){o.transform(l=>({...l,password:l.password||void 0,password_confirmation:l.password?l.password_confirmation:void 0})).put(R.url({user:u.user.id}))}return(l,r)=>(_(),f(v,null,[s(e(U),{title:e(i)("users.editAdmin")},null,8,["title"]),s(N,{breadcrumbs:g},{default:t(()=>[d("div",S,[s(e(A),null,{default:t(()=>[s(e(C),{class:"pt-6"},{default:t(()=>[d("form",{onSubmit:B(y,["prevent"]),class:"grid gap-4 md:grid-cols-2"},[d("div",T,[s(e(p),{for:"name"},{default:t(()=>[n(m(e(i)("common.name")),1)]),_:1}),s(e(c),{id:"name",modelValue:e(o).name,"onUpdate:modelValue":r[0]||(r[0]=a=>e(o).name=a),required:""},null,8,["modelValue"])]),d("div",D,[s(e(p),{for:"email"},{default:t(()=>[...r[4]||(r[4]=[n("Email",-1)])]),_:1}),s(e(c),{id:"email",modelValue:e(o).email,"onUpdate:modelValue":r[1]||(r[1]=a=>e(o).email=a),type:"email",required:""},null,8,["modelValue"])]),d("div",I,[s(e(p),{for:"password"},{default:t(()=>[n(m(e(i)("auth.password")),1)]),_:1}),s(e(c),{id:"password",modelValue:e(o).password,"onUpdate:modelValue":r[2]||(r[2]=a=>e(o).password=a),type:"password",placeholder:e(i)("users.leaveBlank")},null,8,["modelValue","placeholder"])]),d("div",L,[s(e(p),{for:"password_confirmation"},{default:t(()=>[n(m(e(i)("users.confirmPassword")),1)]),_:1}),s(e(c),{id:"password_confirmation",modelValue:e(o).password_confirmation,"onUpdate:modelValue":r[3]||(r[3]=a=>e(o).password_confirmation=a),type:"password"},null,8,["modelValue"])]),d("div",M,[s(e(p),null,{default:t(()=>[n(m(e(i)("users.roles")),1)]),_:1}),d("div",O,[(_(!0),f(v,null,E(w.roles,a=>(_(),f("label",{key:a.id,class:"flex items-center gap-2 cursor-pointer"},[s(e(q),{checked:e(o).role_ids.includes(a.id),"onUpdate:checked":()=>h(a.id)},null,8,["checked","onUpdate:checked"]),d("span",null,m(a.name),1)]))),128))])]),d("div",P,[s(e(V),{type:"submit",disabled:e(o).processing},{default:t(()=>[n(m(e(i)("common.save")),1)]),_:1},8,["disabled"]),s(e(F),{href:e(x).url()},{default:t(()=>[s(e(V),{type:"button",variant:"outline"},{default:t(()=>[n(m(e(i)("common.cancel")),1)]),_:1})]),_:1},8,["href"])])],32)]),_:1})]),_:1})])]),_:1})],64))}});export{le as default};
